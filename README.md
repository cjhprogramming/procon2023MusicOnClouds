# くものうえ、うた (Music on Clouds)
## for Hatsune Miku "Magical Mirai 2023" Programming Contest

画面の任意の位置をクリックすると、ミクがその位置に移動します。 このとき、左クリックすると雲を消しながら移動し、右クリックすると雲は消えません。 モバイルでは左下に追加のボタンを追加し、移動時に雲を消すか選べます。 上下左右の4方向に全部ミクが動くスプライトアニメーションが実装されています。

歌詞は基本的にミクが動く時はミクが動いた場所にでき、停止している時はミクを中心に螺旋形で現れます。 ただし、ミクが端に停止しているときは運が悪いとき文字間の重畳が起こることがあります。 晴天を表す虹からインスピレーションを得て、全部で5色が順番に歌詞の色になります。 また、長い間登場した歌詞はますます透明になり、小さくなります。 これにより、先に登場した歌詞と後で登場した歌詞を区別できるようになりました。

左上にはスクリーンショットモードボタンがあります。 これを押すとき、雲ボタンなどUI を一時的に隠します。 押し直すと、元の状態に戻ります。

右上には二つのボタンがあります。 上の雲型ボタンは、画面の雲を埋め直すボタンです。 雲の形は常にランダムに生成されます。 下の歯車状のボタンを押すとパネルが一つ出ます。 パネルには3つのスライディングバーがあり、それぞれ雲が消す幅、雲が消えた場所と残っている場所との境界の柔らかさ、そしてミクが動く速度を調整します。

上段中間の三角形が描かれたボタンを押すと、あらかじめ設定された11個の絵を描くことができるボタンが11個登場します。 このうち上の7つは「パーティクル」を描きますが、「パーティクル」は現在ミクが位置する位置を基準に描かれます。 以下の5つは「セット」を描きますが、「セット」は画面全体を基準に決められた絵を描きます。 自動的に絵を描いている間は、ユーザーが任意でミクを動かすことができません。

このコンテストに参加できて光栄でした。 開催してくださったすべての方々に感謝いたします。
